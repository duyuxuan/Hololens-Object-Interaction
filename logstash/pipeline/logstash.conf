input{
    file{
        path=>"/usr/share/logstash/csv/logs2D.csv"
        start_position=>"beginning"
    }
}

filter{
    csv{
        separator=>","
        columns=>["id", "c1", "c2", "c3", "c4", "c5", "c6", "c7", "c8", "c9", "c10", "c11", "c12", "c13", "c14", "c15", "c16", "c17", "c18", "c19", "c20", "c21", "c22"]
    }
    
    mutate{
        convert => {
          "c1" => "integer"
        }
        remove_field => ["@timestamp", "@version", "host", "path", "message"]
    }
}

output{
    kafka {
        codec => json
        topic_id => "tap"
        bootstrap_servers => "kafkaserver:9092"
    }
    stdout {}
}